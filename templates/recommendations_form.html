{% load static %}
<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.4.1/dist/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="{% static 'style.css' %}">     

    <title>AI_Mentor</title>
    <style>
      .box1{
        margin: 0 auto;
        width: 40%;
        max-width: 550px;
        min-width: 300px;
        position: relative;
      }    
      .button-container {
        position: absolute;
        bottom: 0;
        right: 0;
        margin-top: 20px; /* Adjust the margin as needed for spacing */
    }
    h4 span {
      display: inline-block;
      overflow: hidden;
      white-space: nowrap;
    }
    
    h4 .line1 {
      animation: typing1 3s steps(30) forwards, blink-caret 0.5s ;
    }
    
    h4 .line2 {
      animation: typing2 3s steps(30) forwards, blink-caret 0.5s ;
      animation-delay: 1.5s; /* Delay the start of the second line's animation */
      width: 0; /* Set initial width to 0 */
    }
    
    h4 {
      color: rgb(49, 165, 170);
      text-align: center;
      font-family: Monospace;
      text-shadow: 1px 1px;
    }
    
    @keyframes blink-caret {
      from, to {
        border-right: 3px solid transparent;
      }
      50% {
        border-right: 3px solid #fff; /* Adjust the color as needed */
      }
    }
    
    @keyframes typing1 {
      from {
        width: 0;
      }
      to {
        width: 100%;
      }
    }
    
    @keyframes typing2 {
      from {
        width: 0;
      }
      to {
        width: 100%;
      }
    }
    .navbar-custom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 10px 20px;
      background-color: transparent; /* Set navbar background to transparent */
    }
    
    .navbar-links {
      display: flex;
      gap: 20px; /* Spacing between links */
      list-style: none;
      margin: 0;
      padding: 0; /* Remove default padding */
    }
    
    .navbar-links li {
      padding: 0;
      display: flex;
      align-items: center; /* Center-align items vertically */
    }
    
    .navbar-links li a {
      text-decoration: none;
      color: #007bff; 
    }
    
    .navbar-links li a:hover {
      color: #10078d; 
    }
    /* styles.css */

    /* styles.css */

    /* styles.css */

    /* styles.css */

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f0f0f0;
    }
    
    .container {
      display: flex;
      justify-content: center;
      align-items: center;

      overflow: hidden;
    }
    
    .chat-box {
      width: 80vw;
      height: 60%%;
      padding: 20px;
      border-radius: 10px;
      background-color: rgba(255, 255, 255, 0.4); /* Add transparency for a blurred effect */
      backdrop-filter: blur(10px); /* Apply a blur effect to the background */
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Add a subtle shadow */
      
    }
    /* styles.css */

    /* styles.css */


    
    .input-container {
      margin-top: 20px;
    }
    
    .form-group {
      margin-bottom: 15px;
    }
    
    .form-control {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 5px;
    }
    
    .btn {
      padding: 10px 20px;
      border: none;
      border-radius: 3px;
      cursor: pointer;
    }
    
    .btn-info {
      background-color: #5bc0de;
      color: #fff;
    }
    
    .btn-success {
      background-color: #5cb85c;
      color: #fff;
    }
    
    button:hover,
    input:hover {
      opacity: 0.8;
    }
    
    .button-container {
      text-align: center;
      margin-bottom: 20px;
    }
    ol {
      font-family: "Arial", sans-serif; /* Change to your desired font family */
      font-size: 16px; /* Change to your desired font size */
      list-style-type: decimal; /* Change the list style type */
      padding-left: 20px; /* Add some padding to the left for better readability */
    }
    
    /* Style for ol items */
    ol li {
      margin-bottom: 5px; /* Add some spacing between list items */
    }
    .output {
      overflow: hidden; /* Hide overflow */
      white-space: nowrap; /* Prevent line breaks */
      border-right: 3px solid transparent; /* Start with a transparent border-right */
      animation: typing1 4s steps(40, end), blink-caret 0.7s  /* Apply both animations */
    }
    
    
    </style>
  </head>
  <body style="background-image: url('{% static '/images/8.jpg'%}'); background-size: cover; background-repeat: no-repeat; margin: 0; padding: 0; font-family: Arial, sans-serif;">
    <nav class="navbar-custom">
      <a class="navbar-brand" href="#">AI Mentor</a>
      <ul class="navbar-links">
          <li><a href="mailto:shubhamdas521@gmail.com">Contact Us</a></li>
          <li class="nav-item">
            <a href="{% url 'home' %}" class="nav-link active">Home</a>
          </li>
          <li class="nav-item">
            <a href="{% url 'l_p' %}" class="nav-link active">logout</a>
          </li>
      </ul>
   </nav> 
      <h4>
        <span class="line1">Tell us about your past studies and interests to receive</span><br>
        <span class="line2">personalized future study recommendations</span>
      </h4>
        <br>
        <div class="container">
          <div class="chat-box">
            <div class="output" id="output">
              {% if recommendations %}

  {% for topic, recommended_topics in recommendations.items %}
      <p><b>Recommendations for '{{ topic }}' are :-</b></p>
      <ol>
          {% for recommended_topic in recommended_topics %}
              <li>{{ recommended_topic }}</li>
          {% endfor %}
      </ol>
  {% endfor %}
  <div class="button-container">
    <input class="btn btn-success" id="hu" type="button" value="Get resources" onclick="location.href='{% url 'Y_R' %}'" />
  </div>

{% endif %}
              <!-- Recommendations will appear here -->
            </div>
            <div class="input-container">
              <form action="{% url 'get_recommendations' %}" method="get">
                {% csrf_token %}
                <div class="form-group">
                  <input type="text" name="user_input" id="user_input" placeholder="Write your past studies and interests separated by commas." class="form-control" required value="{{ user_input }}">
                </div>
                <div class="form-group">
                  <input type="submit" name="submit" class="btn btn-info btn-md" value="Get Recommendations">
                </div>
              </form>
            </div>
            <div class="button-container">
              <input class="btn btn-success" id="hu" type="button" value="Get resources" onclick="location.href='{% url 'Y_R' %}'" />
            </div>
          </div>
        </div>
<script src="https://cdn.botpress.cloud/webchat/v1/inject.js"></script>
<script>
  window.botpressWebChat.init({
      "composerPlaceholder": "Chat with bot",
      "botConversationDescription": "This chatbot helps you to find your answers faster.",
      "botId": "f337a604-6140-4b78-9b6e-144c4358d045",
      "hostUrl": "https://cdn.botpress.cloud/webchat/v1",
      "messagingUrl": "https://messaging.botpress.cloud",
      "clientId": "f337a604-6140-4b78-9b6e-144c4358d045",
      "webhookId": "79928da6-1305-4977-b463-101c5ba595ea",
      "lazySocket": true,
      "themeName": "prism",
      "frontendVersion": "v1",
      "useSessionStorage": true,
      "enableConversationDeletion": true,
      "theme": "prism",
      "themeColor": "#2563eb"
  });
  // JavaScript to trigger the animation
document.addEventListener('DOMContentLoaded', function() {
  var output = document.getElementById('output');
  var lines = output.innerText.split('\n'); // Split text into lines
  output.innerText = ''; // Clear content
  
  // Function to add lines one by one with a delay
  function typeLines(index) {
    if (index < lines.length) {
      output.innerText += lines[index] + '\n'; // Add line
      index++;
      setTimeout(function() {
        typeLines(index); // Recursive call for next line
      }, 1000); // Adjust delay between lines (milliseconds)
    }
  }
  
  typeLines(0); // Start typing lines
});


</script>
</body>
</html>
